graph TD
    subgraph DDEX["ddex-proto repo"]
        PROTO_D[.proto files<br/>DDEX ERN type hierarchy]
        PROTO_D -->|protoc| GO_D[Go structs]
        PROTO_D -->|protoc-gen-graphql| GQL_D[.graphql schemas]
        GO_D --> MOD_D[Published Go module<br/>+ .graphql schemas]
        GQL_D --> MOD_D
    end

    subgraph Mojave["mojave repo"]
        PROTO_M[.proto files<br/>Mojave-specific types<br/>uploads, entitlements,<br/>policies, proofs]
        PROTO_M -->|protoc| GO_M[Go structs]
        PROTO_M -->|protoc| CRPC_M[ConnectRPC services]
        GQL_M[Hand-written .graphql<br/>Mojave-specific types<br/>— small]
        MOD_D -->|import Go types| BIND
        MOD_D -->|import .graphql schemas| BIND
        GO_M --> BIND
        GQL_M --> BIND
        BIND["gqlgen autobind<br/>binds Go types ↔ GraphQL"]
        BIND --> API[Unified API<br/>DDEX + Mojave types<br/>served via GraphQL]
    end

    style DDEX fill:#7d6608,color:#fff
    style Mojave fill:#1a5276,color:#fff
